<%= form_with model: @micropost, local: true do |form| %>
  <%= render 'shared/error_messages', object: form.object %>
  <div class="field">
    <%= form.text_field :content ,class:"form-control", placeholder:"Compose new microposts"%>
  </div>
  <%= form.submit "Post", class:"btn btn-primary"%>
  <span class="image">
    <%=  form.file_field :image, accept: "image/jpeg, image/gif, image/png"%>
  </span>
<% end %>
<script type="text/javascript">
  document.querySelector('#micropost_image').addEventListener('change',function fileSizeChecker(){
     const size_in_megabytes = this.files[0].size/1024/1024;
       if (size_in_megabytes > 5) {
            alert("Maximum file size is 5MB. Please choose a smaller file.");
            this.value = ''
      }
  })
</script>
